Here is a **validation prompt** you can use with a GenAI model (or for internal review) to verify that a **converted Db2 schema** is both **syntactically correct** and **logically equivalent** to the original Sybase schema.

The prompt is designed to ensure that the schema:

* Can be executed in Db2 without syntax errors
* Matches the **structure, constraints, and logic** of the original
* Preserves all **indexes, relationships, and views**

---

## ‚úÖ Objective: Validate Converted Db2 Schema for Syntactic and Logical Accuracy

You are a SQL validator and logical consistency checker. You are given:

1. The **original Sybase ASE schema**
2. The **converted Db2 schema**

Your task is to validate that the **Db2 schema** is:

### ‚úÖ Syntactically valid for IBM Db2
- Check that all SQL statements are executable in a Db2 environment
- Ensure that:
  - Data types are valid in Db2
  - Syntax for `IDENTITY`, `DEFAULT`, `CHECK`, `FOREIGN KEY`, `VIEW`, and `INDEX` is correct
  - Functions like `CURRENT TIMESTAMP` and `COALESCE()` are used properly

### ‚úÖ Logically equivalent to the original Sybase schema
- Ensure that:
  - All **tables** from Sybase are present in Db2
  - All **columns**, **data types**, and **constraints** are preserved
  - All **primary keys**, **foreign keys**, and **unique constraints** match the original
  - All **default values**, **check constraints**, and **identity columns** are preserved
  - All **indexes** are present, named, and created on the correct columns
  - All **views** return the same logical structure and use correct replacements for Sybase-specific functions

---

## üì• Example Input

### Sybase Schema:
```sql
CREATE TABLE users (
    user_id         INT IDENTITY PRIMARY KEY,
    username        VARCHAR(50) NOT NULL UNIQUE,
    email           VARCHAR(100) NOT NULL UNIQUE,
    registered_on   DATETIME DEFAULT GETDATE(),
    profile_picture IMAGE NULL,
    bio             TEXT NULL
);

CREATE INDEX idx_username ON users(username);

### Converted Db2 Schema:

```sql
CREATE TABLE users (
    user_id         INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username        VARCHAR(50) NOT NULL UNIQUE,
    email           VARCHAR(100) NOT NULL UNIQUE,
    registered_on   TIMESTAMP DEFAULT CURRENT TIMESTAMP,
    profile_picture BLOB,
    bio             CLOB
);

CREATE INDEX idx_username ON users(username);
```

---

## üß™ Instructions

1. ‚úÖ Check for **syntactical correctness** of the Db2 SQL.
2. ‚úÖ Compare each element of the Db2 schema with the Sybase schema and ensure:

   * Column names and types are correct
   * Indexes are on the correct columns and correctly named
   * Constraints match (PK, FK, UNIQUE, CHECK)
   * All views (if any) are functionally equivalent
3. ‚ùå Do not rewrite the schema or fix it unless asked.
4. ‚úÖ Simply return whether:

   * The Db2 schema is **valid** (yes/no)
   * If **no**, explain exactly what is incorrect or missing.

---

## üì§ Your Output Format

```markdown
**‚úÖ Syntax Check:** Pass/Fail  
**‚úÖ Logical Match:** Pass/Fail  

**Issues (if any):**  
- [ ] Missing constraint on `...`  
- [ ] Incorrect data type: `...` should be `...`  
- [ ] Invalid syntax in: `...`  
```

---

## üéØ Your Task

Validate the **converted Db2 schema** using the above checklist and return a clear verdict on:

* **Syntax validity**
* **Logical schema fidelity**
